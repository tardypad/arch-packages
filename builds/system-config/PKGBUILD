pkgbase=system-config
pkgname=(
  'system-config-light'
  'system-config-dark'
)
pkgver=100
pkgrel=1
pkgdesc='System configurations'
url='https://github.com/tardypad'
arch=('any')
license=('custom')

conflicts=(
  'system-config'
)

provides=(
  'system-config'
)

replaces=(
  'system-config'
)

install=system-config.install

depends=(
  'sudo'
  'zsh'
  'networkmanager'
  'sway'
  'tlp'
  'systemd'
  'pacman'
  'pacman-contrib'
  'logrotate'
  'bluez'
  'pcsclite'
)

_rootdir=$PWD

package_common() {
  cp -R "$_rootdir"/files/* "$pkgdir"
  chmod 0750 "$pkgdir"/etc/sudoers.d
  chmod 0600 "$pkgdir"/etc/sudoers.d/*
}

package_system-config-light() {
  package_common

  ln -sf issue_light "$pkgdir"/etc/issue
}

package_system-config-dark() {
  package_common

  ln -sf issue_dark "$pkgdir"/etc/issue
}
